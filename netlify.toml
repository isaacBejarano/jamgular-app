# BUILD #

[build]
	publish = "dist/static"
	command = "npm run jam:sc"



# SEO #

[[plugins]]
  package = "netlify-plugin-submit-sitemap" # <-> ("@netlify/plugin-sitemap" from Netlify UI installed too)

	[plugins.inputs]
	sitemapPath = "/sitemap.xml"
	providers = ["google"]   # (default = 'google', 'bing', 'yandex'). Possible providers are currently only 'google', 'bing', 'yandex'.
	# baseUrl = "https://example.com"   # (optional, default = main URL set in Netlify)

	

# PERFORMANCE #

	[[plugins]]
	  package = "netlify-plugin-minify-html"
	
	  [plugins.inputs]
	    contexts = ['production']
	
	  [plugins.inputs.minifierOptions]
	    caseSensitive = true
	    removeComments = true
			collapseWhitespace = true
			preserveLineBreaks = false # (def)
			html5 = true # (def)


# "netlify-plugin-inline-critical-css" # -> (Plugin with Bugs. don't use it)


# Netlify UI > Build > PotProcessing > Assets Optimization

	[build.processing]
  	skip_processing = true # Skip all branches, except...

	# ... branch "prod" -> all postprocessors fail except CSS and IMG
	[context.prod.processing]
  	skip_processing = false
	
	[context.prod.processing.css]
  		bundle = true
  		minify = true
		
	[context.prod.processing.images]
  		compress = true

# SECURITY #

# "netlify-plugin-is-website-vulnerable" # -> from Netlify UI (no toml config needed yet)
